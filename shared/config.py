# shared/config.py
"""
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–ú–æ–¥—É–ª—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º API.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã (FastAPI, Streamlit, —Å–µ—Ä–≤–∏—Å—ã).

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—É—Ç–µ–π –∫ –º–æ–¥–µ–ª—è–º, –¥–∞–Ω–Ω—ã–º, –æ—Ç—á—ë—Ç–∞–º
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API (—Ö–æ—Å—Ç, –ø–æ—Ä—Ç, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

–ê–≤—Ç–æ—Ä: [–ö–æ—á–Ω–µ–≤–∞ –ê—Ä–∏–Ω–∞]
–ì–æ–¥: 2025
"""

from pathlib import Path


# --- üß≠ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ ---
"""
–ü—É—Ç—å –∫ –∫–æ—Ä–Ω—é –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, /home/user/credit_scoring).
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—å —Ä–æ–¥–∏—Ç–µ–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∞–π–ª–∞:
    shared/ ‚Üí credit_scoring/
"""
ROOT_DIR = Path(__file__).parent.parent


# --- üìÅ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ ---
"""
–û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:
- models/ ‚Äî –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- data/ ‚Äî —Å—ã—Ä—ã–µ –∏ —Ñ–∏–¥–±—ç–∫–∏
- reports/ ‚Äî PDF-–æ—Ç—á—ë—Ç—ã
- reports/images/ ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤ PDF
"""
MODELS_DIR = ROOT_DIR / "models"
DATA_DIR = ROOT_DIR / "data"
REPORTS_DIR = ROOT_DIR / "reports"
IMAGES_DIR = REPORTS_DIR / "images"  # –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (SHAP, ROC-AUC)


# --- üìÑ –ü—É—Ç–∏ –∫ –∫–ª—é—á–µ–≤—ã–º —Ñ–∞–π–ª–∞–º ---
"""
–§–∞–π–ª—ã —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ joblib/pickle.
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è:
- –ó–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ –∏ –µ—ë –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π (SHAP)
- –î–æ–æ–±—É—á–µ–Ω–∏—è –Ω–∞ —Ñ–∏–¥–±—ç–∫–∞—Ö
"""
FEATURE_NAMES_PATH = MODELS_DIR / "feature_names.pkl"       # –°–ø–∏—Å–æ–∫ —Ñ–∏—á–µ–π –ø–æ—Å–ª–µ OHE
BACKGROUND_DATA_PATH = MODELS_DIR / "background_data.pkl"   # –§–æ–Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è SHAP
ENSEMBLE_MODEL_PATH = MODELS_DIR / "ensemble_model.pkl"     # –ê–Ω—Å–∞–º–±–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å (VotingClassifier)
REPORT_PATH = REPORTS_DIR / "explanation_report.pdf"        # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ –∑–∞–µ–º—â–∏–∫—É
DATA_SOURCE = DATA_DIR / "credit_risk_dataset.csv"          # –ò—Å—Ö–æ–¥–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
DATABASE_PATH = ROOT_DIR / "credit_scoring.db"
SQLALCHEMY_DATABASE_URL = f"sqlite:///{DATABASE_PATH}"

# --- üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API ---
"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è FastAPI-—Å–µ—Ä–≤–µ—Ä–∞.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:
- FastAPI (host, port)
- Streamlit (API_BASE_URL, auth)
"""
API_BASE_URL = "http://localhost:8000"  # –ë–∞–∑–æ–≤—ã–π URL –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
HOST = "localhost"                      # –•–æ—Å—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ API
PORT = 8000                             # –ü–æ—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ API

# --- üõ† –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ ---
"""
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–ø–∫–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è.
–ü–∞—Ä–∞–º–µ—Ç—Ä exist_ok=True ‚Äî –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –ø–∞–ø–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
"""
for path in [MODELS_DIR, DATA_DIR, REPORTS_DIR, IMAGES_DIR]:
    path.mkdir(exist_ok=True)


# --- üîç –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ---
"""
–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö:

# –í services/utils.py
from shared.config import ENSEMBLE_MODEL_PATH, FEATURE_NAMES_PATH
model = joblib.load(ENSEMBLE_MODEL_PATH)

# –í app/main.py
from shared.config import DATA_SOURCE
df = pd.read_csv(DATA_SOURCE)

# –í frontend/app.py
from shared.config import API_BASE_URL, API_AUTH
response = requests.get(f"{API_BASE_URL}/compare", auth=API_AUTH)
"""
